[include shell_command.cfg]
[include macros.cfg]

[exclude_object]
[respond]
[pause_resume]
[display_status]
[virtual_sdcard]
path: ~/printer_data/gcodes

[include ./probes/carto.cfg]

[mcu]
canbus_uuid: aaaf7ee9f59f

[mcu EBBCan]
canbus_uuid: 29668784ed95

# [include resonance.cfg]
[include extruder.cfg]
[include steppers.cfg]

[force_move]
enable_force_move: True

[safe_z_home]
home_xy_position: 160, 160
z_hop: 20

[firmware_retraction]
retract_length: 0.8
#   The length of filament (in mm) to retract when G10 is activated,
#   and to unretract when G11 is activated (but see
#   unretract_extra_length below). The default is 0 mm.
retract_speed: 60
#   The speed of retraction, in mm/s. The default is 20 mm/s.
# unretract_extra_length: 0.5
#   The length (in mm) of *additional* filament to add when
#   unretracting.
unretract_speed: 60
#   The speed of unretraction, in mm/s. The default is 10 mm/s.
z_hop_height: 0.1 # kalico

[z_tilt]
z_positions: -35,160
            355,160
points: 40, 215
        120, 215
        200, 215
        280, 215
retries: 5
retry_tolerance: 0.06
increasing_threshold: 0.005 # Kalico
horizontal_move_z: 3
speed: 200
adaptive_horizontal_move_z: True # Kalico
use_probe_xy_offsets: True # kalico

[axis_twist_compensation]
calibrate_start_x: 40
calibrate_end_x: 280
calibrate_y: 160
calibrate_start_y: 40
calibrate_end_y: 300
calibrate_x: 160
horizontal_move_z: 3

[printer]
kinematics: cartesian
max_velocity: 300
max_accel: 6000
max_z_velocity: 25
max_z_accel: 1000
## Uncomment for Input Shaper calibrations
# max_accel: 10000

[input_shaper]
# shaper_type_x: smooth_mzv
# shaper_freq_x: 57.6
# shaper_type_y: 2hump_ei
# shaper_freq_y: 51.0

[filament_switch_sensor material_0]
switch_pin: PC5
pause_on_runout: true

[heater_bed]
heater_pin: PB2 #HB
sensor_type: EPCOS 100K B57560G104F #Generic 3950
sensor_pin: PA3 #TB
#control: watermark
min_temp: 0
max_temp: 100

[bed_screws]
screw1: 65, 13
screw1_name: left front screw
screw2: 65, 145
screw2_name: left middle screw
screw3: 65, 280
screw3_name: left back screw
screw4: 318, 13
screw4_name: right front screw
screw5: 318, 145
screw5_name: right middle screw
screw6: 318, 280
screw6_name: right back screw

[screws_tilt_adjust]
screw1: 65, 13
screw1_name: left front screw
screw2: 65, 145
screw2_name: left middle screw
screw3: 65, 280
screw3_name: left back screw
screw4: 318, 13
screw4_name: right front screw
screw5: 318, 145
screw5_name: right middle screw
screw6: 318, 280
screw6_name: right back screw

[led LED_Light]
white_pin: PA8
initial_white: 0.0

[fan]
pin: EBBCan: PA0

[heater_fan hotend_fan]
pin: EBBCan: PA1
heater: extruder
heater_temp: 50.0

[temperature_fan mobofan]
pin: PB14
sensor_type: temperature_host # Use temperature_host for Raspberry Pi, mcu_temperature for MCU sensor
# sensor_type: mcu_temp
control: pid
pid_Kp: 2.0
pid_Ki: 5.0
pid_Kd: 0.5
pid_deriv_time: 2.0
min_temp: 0
max_temp: 80
target_temp: 50
min_speed: 0.4

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PC1, EXP1_3=PC3, EXP1_5=PC0, EXP1_7=PA2, EXP1_9=<GND>,
    EXP1_2=PC2,  EXP1_4=<RST>, EXP1_6=PA0, EXP1_8=PA1, EXP1_10=<5V>

[temperature_sensor rpi_temp]
sensor_type: temperature_host

[temperature_sensor mcu_temp]
sensor_type: temperature_mcu
sensor_temperature1: 25
sensor_adc1: 0.210317

[temperature_sensor EBB]
sensor_type: temperature_mcu
sensor_mcu: EBBCan

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 69.490
#*# pid_ki = 0.617
#*# pid_kd = 1957.009
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 34.776
#*# pid_ki = 2.696
#*# pid_kd = 112.151
#*#
#*# [axis_twist_compensation]
#*# z_compensations = -0.004785, 0.002030, 0.002755
#*# compensation_start_x = 40.0
#*# compensation_end_x = 280.0
#*#
#*# [input_shaper]
#*# shaper_type_x = smooth_mzv
#*# shaper_freq_x = 57.6
#*# shaper_type_y = 2hump_ei
#*# shaper_freq_y = 51.0
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.171667, -0.141881, -0.125241, -0.124677, -0.117701, -0.101180, -0.087952, -0.077931, -0.077350, -0.073653, -0.076222, -0.072541, -0.065690, -0.061988, -0.061476, -0.064554, -0.070749, -0.073872, -0.076966, -0.067456, -0.073659, -0.067336, -0.071980, -0.073479, -0.076573, -0.073392, -0.063861, -0.054433, -0.045034, -0.032544
#*# 	-0.170043, -0.148346, -0.128426, -0.127889, -0.114515, -0.101180, -0.091119, -0.081068, -0.077350, -0.076819, -0.077816, -0.072541, -0.065690, -0.061988, -0.061476, -0.064554, -0.067603, -0.077009, -0.073812, -0.070602, -0.070509, -0.070482, -0.071964, -0.073512, -0.076573, -0.073359, -0.057623, -0.054433, -0.045034, -0.041861
#*# 	-0.174939, -0.151567, -0.130034, -0.127889, -0.114501, -0.101180, -0.087952, -0.077947, -0.074233, -0.073669, -0.073105, -0.070952, -0.065690, -0.055751, -0.055213, -0.058283, -0.061356, -0.067576, -0.070629, -0.067456, -0.064238, -0.062625, -0.065705, -0.067183, -0.068712, -0.070242, -0.057623, -0.051301, -0.041921, -0.040306
#*# 	-0.168399, -0.138662, -0.122032, -0.116678, -0.104954, -0.085371, -0.075328, -0.062238, -0.061674, -0.058007, -0.060546, -0.056879, -0.051612, -0.043256, -0.039651, -0.045782, -0.048839, -0.055046, -0.054973, -0.051797, -0.048632, -0.048539, -0.050056, -0.051574, -0.054639, -0.054553, -0.042041, -0.038871, -0.032604, -0.029447
#*# 	-0.155398, -0.132206, -0.109242, -0.108705, -0.095418, -0.079075, -0.062802, -0.052855, -0.047649, -0.048609, -0.048045, -0.044400, -0.037621, -0.030891, -0.027253, -0.033384, -0.034875, -0.042581, -0.042521, -0.036246, -0.036186, -0.034591, -0.036066, -0.039111, -0.042129, -0.042101, -0.031192, -0.026489, -0.020270, -0.020210
#*# 	-0.148910, -0.122570, -0.106055, -0.102335, -0.092247, -0.072779, -0.059672, -0.049770, -0.046092, -0.045528, -0.048062, -0.044400, -0.034520, -0.027765, -0.024164, -0.027209, -0.030243, -0.039471, -0.036306, -0.034695, -0.029987, -0.033024, -0.029867, -0.032904, -0.035946, -0.037422, -0.026533, -0.023416, -0.018729, -0.020210
#*# 	-0.152152, -0.125804, -0.102886, -0.102309, -0.089081, -0.072746, -0.056540, -0.043547, -0.042950, -0.039313, -0.041823, -0.035084, -0.025239, -0.015462, -0.011870, -0.017930, -0.020952, -0.027105, -0.030107, -0.026953, -0.023804, -0.020690, -0.020630, -0.023656, -0.028200, -0.029687, -0.020390, -0.014171, -0.007960, -0.012530
#*# 	-0.145679, -0.119393, -0.096546, -0.094396, -0.079623, -0.063366, -0.047220, -0.037340, -0.030617, -0.030021, -0.029457, -0.024276, -0.012946, -0.003184, 0.003424, -0.002612, -0.005614, -0.017848, -0.017788, -0.017728, -0.011510, -0.014531, -0.011390, -0.017450, -0.020510, -0.023504, -0.014231, -0.008020, -0.003363, -0.007939
#*# 	-0.142445, -0.114609, -0.093375, -0.089645, -0.074916, -0.057137, -0.044111, -0.031181, -0.027495, -0.023878, -0.020232, -0.018129, -0.006810, 0.001401, 0.006459, 0.000446, -0.005614, -0.014771, -0.014711, -0.014651, -0.008440, -0.005353, -0.011390, -0.017450, -0.017428, -0.023536, -0.014231, -0.011090, -0.001871, -0.007900
#*# 	-0.142445, -0.116193, -0.096546, -0.092811, -0.076457, -0.060249, -0.044111, -0.034242, -0.027511, -0.020796, -0.020232, -0.016590, -0.006810, 0.002897, 0.006497, 0.001957, -0.005614, -0.014771, -0.014711, -0.011570, -0.008440, -0.011450, -0.011390, -0.017488, -0.020510, -0.023504, -0.014231, -0.011090, -0.004933, -0.010970
#*# 	-0.148889, -0.119393, -0.099720, -0.092811, -0.079623, -0.063366, -0.047220, -0.034242, -0.027527, -0.023839, -0.023275, -0.019668, -0.009895, -0.000164, 0.003408, 0.000408, -0.005653, -0.014771, -0.017788, -0.011570, -0.011510, -0.008380, -0.011390, -0.014411, -0.017428, -0.020450, -0.011150, -0.008020, -0.001832, -0.001811
#*# 	-0.139226, -0.116193, -0.096546, -0.092811, -0.076473, -0.060236, -0.047220, -0.032711, -0.027495, -0.020796, -0.023314, -0.019668, -0.009876, -0.003184, 0.000348, -0.008740, -0.011750, -0.017848, -0.017788, -0.011570, -0.008440, -0.008380, -0.008320, -0.011330, -0.017390, -0.017368, -0.008080, -0.004954, 0.001207, -0.001811
#*# 	-0.142445, -0.114595, -0.096546, -0.091228, -0.076489, -0.060236, -0.047220, -0.031149, -0.027527, -0.020796, -0.020232, -0.016590, -0.009876, -0.003184, 0.000367, -0.005694, -0.013271, -0.017848, -0.020832, -0.014651, -0.013051, -0.009915, -0.011390, -0.014411, -0.017428, -0.020412, -0.011150, -0.008020, -0.001832, -0.001811
#*# 	-0.139236, -0.112998, -0.090225, -0.088080, -0.076457, -0.058687, -0.044111, -0.034242, -0.024442, -0.020796, -0.020193, -0.016590, -0.006810, -0.000164, 0.000386, -0.005674, -0.011750, -0.020930, -0.017788, -0.011570, -0.009995, -0.008380, -0.008320, -0.011330, -0.014351, -0.014291, -0.008080, 0.001128, 0.004248, 0.001286
#*# 	-0.135991, -0.106646, -0.087079, -0.083341, -0.067064, -0.050898, -0.039471, -0.025005, -0.022881, -0.017718, -0.017154, -0.013510, -0.003748, -0.000126, 0.003440, -0.005674, -0.010215, -0.017848, -0.017788, -0.011570, -0.008440, -0.006867, -0.008320, -0.008260, -0.011270, -0.014291, -0.005014, -0.001911, 0.002737, 0.004308
#*# 	-0.129581, -0.101860, -0.080734, -0.077053, -0.063930, -0.050898, -0.034806, -0.024967, -0.021360, -0.017718, -0.017154, -0.013510, -0.006810, -0.000164, 0.000386, -0.005713, -0.011750, -0.017848, -0.017788, -0.011570, -0.005374, -0.005314, -0.005274, -0.005214, -0.008200, -0.011210, -0.001971, 0.004188, 0.007299, 0.001286
#*# 	-0.129581, -0.103463, -0.080734, -0.077053, -0.063930, -0.049325, -0.037904, -0.025005, -0.021360, -0.017718, -0.020232, -0.016590, -0.006810, -0.003184, -0.002672, -0.008740, -0.011750, -0.014771, -0.017788, -0.011570, -0.008440, -0.005314, -0.005254, -0.005194, -0.008200, -0.006607, 0.001068, 0.004204, 0.007337, 0.007359
#*# 	-0.136011, -0.109806, -0.090209, -0.083357, -0.070202, -0.055560, -0.044111, -0.034242, -0.030585, -0.030021, -0.032550, -0.028925, -0.022147, -0.015462, -0.014951, -0.021031, -0.020990, -0.024016, -0.023956, -0.019250, -0.014591, -0.011450, -0.011390, -0.008260, -0.014351, -0.011210, -0.008080, 0.001166, -0.001832, -0.001772
#*# 	-0.142445, -0.119393, -0.093375, -0.089645, -0.076457, -0.060236, -0.050334, -0.040441, -0.042950, -0.039297, -0.041855, -0.041291, -0.034520, -0.027765, -0.025725, -0.030287, -0.031776, -0.036366, -0.037859, -0.030047, -0.025365, -0.017608, -0.017548, -0.017450, -0.020510, -0.020450, -0.014231, -0.008020, -0.007960, -0.007900
#*# 	-0.142445, -0.116193, -0.096532, -0.089645, -0.076473, -0.063366, -0.050317, -0.046656, -0.042983, -0.045512, -0.048045, -0.047514, -0.040711, -0.033956, -0.031912, -0.033417, -0.036426, -0.042581, -0.042521, -0.033144, -0.026925, -0.023760, -0.020630, -0.020570, -0.020472, -0.017368, -0.011150, -0.004993, -0.004894, -0.006387
#*# 	-0.136011, -0.112998, -0.090225, -0.089645, -0.073344, -0.060236, -0.047204, -0.040441, -0.042983, -0.043957, -0.048078, -0.050599, -0.043820, -0.037058, -0.036546, -0.039559, -0.042608, -0.045662, -0.045602, -0.037799, -0.033084, -0.026833, -0.023684, -0.020570, -0.020472, -0.017330, -0.008080, -0.004954, -0.001832, -0.001772
#*# 	-0.135991, -0.109833, -0.093375, -0.089645, -0.076457, -0.063366, -0.050334, -0.046656, -0.046060, -0.048642, -0.054284, -0.053753, -0.050035, -0.043273, -0.042761, -0.042668, -0.048872, -0.058163, -0.054973, -0.045574, -0.042368, -0.036126, -0.032964, -0.026713, -0.026653, -0.020450, -0.011150, -0.004954, -0.001832, -0.001791
#*# 	-0.139216, -0.113024, -0.093375, -0.092811, -0.082793, -0.069637, -0.059672, -0.049737, -0.052291, -0.051759, -0.060546, -0.063116, -0.059418, -0.055725, -0.052081, -0.055153, -0.061356, -0.064434, -0.064374, -0.054939, -0.053303, -0.045422, -0.042281, -0.036006, -0.035946, -0.026625, -0.017308, -0.008020, -0.001871, -0.001772
#*# 	-0.142445, -0.119393, -0.099720, -0.099156, -0.085919, -0.075925, -0.062802, -0.055976, -0.055445, -0.057994, -0.066818, -0.069363, -0.064121, -0.058854, -0.058343, -0.061416, -0.064494, -0.070705, -0.070629, -0.061176, -0.057983, -0.051661, -0.048479, -0.039111, -0.039051, -0.029687, -0.020352, -0.008020, -0.001832, 0.001267
#*# 	-0.139226, -0.119393, -0.096546, -0.099156, -0.085919, -0.072779, -0.065903, -0.055976, -0.055412, -0.057981, -0.063680, -0.069395, -0.065690, -0.061988, -0.061476, -0.064554, -0.067619, -0.073855, -0.075372, -0.067456, -0.061116, -0.054793, -0.051601, -0.045302, -0.045274, -0.038975, -0.026565, -0.012611, -0.004894, 0.001286
#*# 	-0.142445, -0.117793, -0.099720, -0.099130, -0.089081, -0.079042, -0.070628, -0.065372, -0.061674, -0.061110, -0.069959, -0.072541, -0.071977, -0.068235, -0.070885, -0.070842, -0.073932, -0.076993, -0.080091, -0.070569, -0.068969, -0.061056, -0.057876, -0.051574, -0.053063, -0.042101, -0.031192, -0.014171, -0.007960, 0.001248
#*# 	-0.142445, -0.116193, -0.099694, -0.099156, -0.092247, -0.080635, -0.075328, -0.068477, -0.067945, -0.064244, -0.069959, -0.072541, -0.068831, -0.068268, -0.064614, -0.067696, -0.067636, -0.070689, -0.073779, -0.067456, -0.064254, -0.057923, -0.054733, -0.051541, -0.048376, -0.042101, -0.028096, -0.011090, -0.001871, 0.004340
#*# 	-0.139236, -0.119366, -0.099707, -0.099156, -0.095418, -0.082212, -0.078478, -0.074764, -0.074200, -0.070523, -0.077816, -0.075675, -0.075094, -0.071381, -0.070902, -0.073959, -0.073899, -0.075432, -0.076966, -0.070569, -0.064254, -0.061056, -0.057863, -0.048452, -0.051481, -0.038991, -0.026533, -0.009575, 0.001188, 0.008901
#*# 	-0.132770, -0.116193, -0.099707, -0.102309, -0.092247, -0.083792, -0.078478, -0.074781, -0.074219, -0.076786, -0.079409, -0.081971, -0.075094, -0.074547, -0.070902, -0.077113, -0.073899, -0.077026, -0.076933, -0.073719, -0.067379, -0.061056, -0.051634, -0.048419, -0.045274, -0.038991, -0.023444, -0.011090, 0.007299, 0.016487
#*# 	-0.145679, -0.125804, -0.109269, -0.111870, -0.108141, -0.098028, -0.094289, -0.087388, -0.093135, -0.092584, -0.098387, -0.097796, -0.094054, -0.087171, -0.089830, -0.092918, -0.092885, -0.089650, -0.092765, -0.080064, -0.080004, -0.070482, -0.064134, -0.054673, -0.054639, -0.048299, -0.032724, -0.011090, 0.001226, 0.014949
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 0
#*# mesh_y_pps = 0
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 22.0
#*# max_x = 310.0
#*# min_y = 22.0
#*# max_y = 305.0
#*#
#*# [cartographer scan_model default]
#*# coefficients = 1.4259702467930955,1.899838903337992,0.846954159717641,0.40508606577288503,0.4497979186464444,0.519746998493002,-0.25606838566462864,-0.476591712316177,0.3326541456590814,0.35358431451573585
#*# domain = 3.21645891661695e-07,3.3508101688119907e-07
#*# z_offset = 0
#*# reference_temperature = 27.61
#*#
#*# [cartographer touch_model default]
#*# threshold = 2039
#*# speed = 3
#*# z_offset = 0
#*#
#*# [cartographer]
#*# z_backlash = 0.00373
